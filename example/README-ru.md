# Пример настройки бизнес-процесса в `SuiteCRM`

Папка `example` содержит пример настройки бизнес-процесса "Обработка заказа" для модуля `AOS_Quotes`.

* `bpmn` - пример схемы бизнес-процесса для `Camunda`: bpmn схема и необходимые java классы (русский и английский варианты);
* `camunda-example` - пакет по добавлению настроек в модуле `AOS_Quotes` (без добавления панели согласования на форму просмотра - `detailviewdefs`);
* `camunda-example-ui` - пакет по добавлению панели согласования в `detailviewdefs`.

### Установка примера настройки бизнес-процесса в `SuiteCRM`

1. Установите пакет интеграции `SuiteCRM` с `Camunda`;
2. пропишите в файле конфигурации `SuiteCRM` доступ к сервису `Camunda`;
3. установите пакет `camunda-example`;
4. добавьте панель согласования в `detailviewdefs` модуля `AOS_Quotes` одним из следующий способов:
   * если в Вашей инсталяции `SuiteCRM` не предполагается доработка формы просмотра модуля `AOS_Quotes`, то установите пакет `camunda-example-ui`. Пакет создаст или ==перезапишет==  файл `custom/modules/AOS_Quotes/metadata/detailviewdefs.php`;
   * если в Вашей инсталяции уже была доработка формы просмотра модуля `AOS_Quotes`, то вручную добавьте в файл `custom/modules/AOS_Quotes/metadata/detailviewdefs.php` (или `modules/AOS_Quotes/metadata/detailviewdefs.php`) панель согласования;
 5. выполните процедуру "Восстановления";
 6. откомпилируйте код схемы бизнес-процесса в `Camunda` (находится в папке `bpmn`):
 
    ```sh
    mvn install
    ```

    Требуется версия java 1.8;

 7. созданный `war`-файл выложите на сервер `Camunda`.

